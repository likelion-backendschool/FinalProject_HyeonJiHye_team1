## Title: [2Week]_현지혜

### 이번주 수행사항

---

#### **필수과제**

- 주문, 결제, 장바구니, PG연동

#### **추가과제**

- 환불


### 2주차 미션 체크리스트

#### 장바구니
- [x] 품목 상품 등록
- [x] 품목 상품 삭제
- [x] 품목 상품 리스트

#### 주문
- [x] 주문 생성
- [x] 주문 리스트
- [x] 주문 상세
- [ ] 주문 취소

#### 결제
- [ ] 결제

#### PG 연동
- [ ] PG 연동

---

**[접근 방법]**

1) 주문/결제
- 주문을 하면 일단 주문의 상태는 준비상태이다.
  - 여기서 결제를 하거나, 주문취소를 할 수 있다.
- 회원이 결제를 할 때 기존에 소유하고 있는 캐시를 사용할 수 있다.
- 본 쇼핑몰에서의 모든 현금 흐름은 CashLog 에 기록된다.
- CashLog 테이블은 사이버 머니에 대한 기록 테이블이다.
- 결제를 하게되면 CashLog 테이블에 돈이 충전된 후 바로 사용된다.
- 토스 페이먼츠를 이용해서 카드 결제를 구현한다.
- 결제가 완료되면 MyBook 테이블에 책이 구매된 책이 추가되어야 한다.


2) 장바구니
- 상품이 곧 도서이다.
- 도서를 장바구니에 담을 수 있다.
- 장바구니에서 도서를 제거할 수 있다.
- 장바구니에 담긴 도서들을 가지고 주문을 할 수 있다.


3) PG연동

### 개발과정
**장바구니 관련 기능 추가 - 도서 추가, 제거, 리스트 보기**
artItem 엔티티 추가

장바구니에 상품 추가
- 도서목록 페이지, 도서정보 페이지에서 상품 추가 가능하도록

장바구니 리스트 페이지 구현
- 추가한 도서 목록 보기

장바구니 목록에 담긴 상품 삭제하기

테스트 케이스 작성
- init 데이터 추가
- 장바구니 아이템 추가 테스트 케이스
- 장바구니 아이템 제거 테스트 케이스

**주문테이블 관련**
Order 엔티티 추가
OrderItem 엔티티 추가
장바구니 목록에 담긴 아이템 구매 기능
- 주문 내역 페이지 생성
- 주문 기능 추가 (장바구니에서 구매 오더 넣기)

**예치금/페이먼츠 관련**
- CashLog 엔티티 추가
- 예치금 데이터 추가
- 멤버 서비스에서 예치금 처리 로직 추가
- 예치금 처리 로직 구현, 토스 페이먼츠 결제 서비스 추가 (동시 사용 가능하도록)
- 주문 목록 페이지 추가

**[특이사항]**

- 추후 보완할 부분

    - 장바구니 같은 품목 개수 추가
    - 서비스 처리 로직 과정에서 에러 핸들링
    - 남은 기능들 구현